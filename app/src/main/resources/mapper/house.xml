<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.whereismyhome.house.model.mapper.HouseMapper">

    <select id="getDongCodeByDongName" parameterType="String" resultType="String">
        select dongCode
        from `dongcode`
        where sidoName = #{sidoName}
          and gugunName like #{gugunName}
          and dongName = #{dongName}
        order by dongCode;
    </select>

    <select id="getHouseInfosByDongCode" parameterType="String" resultType="houseInfoDto">
        select aptCode,
               buildYear,
               roadName,
               roadNameBonbun,
               roadNameBubun,
               roadNameSeq,
               roadNameBasementCode,
               roadNameCode,
               dong,
               bonbun,
               bubun,
               sigunguCode,
               eubmyundongCode,
               dongCode,
               landCode,
               apartmentName,
               jibun,
               lng,
               lat
        from `houseinfo`
        where dongCode = #{dongCode}
        order by aptCode;
    </select>

</mapper>
